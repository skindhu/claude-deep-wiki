# Claude DeepWiki

> åŸºäº Claude Agent SDK çš„æ™ºèƒ½ä»£ç ä»“åº“åˆ†æå·¥å…·ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸šåŠ¡å¯¼å‘çš„é¡¹ç›®çŸ¥è¯†åº“

[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## ğŸ“– é¡¹ç›®èƒŒæ™¯

åœ¨ AI è¾…åŠ©ç¼–ç¨‹æ—¶ä»£ï¼Œ**éœ€æ±‚è´¨é‡**æˆä¸ºå½±å“å¼€å‘æ•ˆç‡çš„å…³é”®å› ç´ ã€‚è¦è®© AI å‡†ç¡®ç†è§£éœ€æ±‚ï¼Œé¦–å…ˆéœ€è¦è®©å®ƒæŒæ¡é¡¹ç›®çš„èƒŒæ™¯çŸ¥è¯†ã€‚ç„¶è€Œï¼š

- ğŸ”’ **Devin.ai çš„ DeepWiki** æ•ˆæœå‡ºè‰²ï¼Œä½†é—­æºä¸”ä»…æ”¯æŒ GitHub æ‰˜ç®¡çš„å…¬å¼€ä»“åº“
- ğŸ“‰ **å¼€æºç‰ˆ open-deepwiki** åˆ†ææ•ˆæœæœ‰é™ï¼Œéš¾ä»¥æ»¡è¶³ç”Ÿäº§éœ€æ±‚

å› æ­¤ï¼Œæˆ‘ä»¬åŸºäº **Claude Agent SDK** æ‰“é€ äº†è¿™ä¸ªå·¥å…·ï¼Œæ—¨åœ¨ï¼š
- âœ… æœ¬åœ°è¿è¡Œï¼Œæ”¯æŒä»»ä½•ä»£ç ä»“åº“ï¼ˆå…¬å¼€/ç§æœ‰ï¼‰
- âœ… æ·±åº¦ç†è§£ä¸šåŠ¡é€»è¾‘ï¼Œç”Ÿæˆé¢å‘äº§å“çš„ PRD æ–‡æ¡£
- âœ… å¤šè¯­è¨€æ”¯æŒï¼ˆ165+ ç¼–ç¨‹è¯­è¨€ï¼‰

## ğŸ¯ è®¾è®¡ç†å¿µ

### 1. Claude Agent SDK é©±åŠ¨

åˆ©ç”¨ Claude Sonnet 4.5 å¼ºå¤§çš„ä»£ç ç†è§£èƒ½åŠ›ï¼Œé€šè¿‡ Agent SDK å®ç°è‡ªä¸»å·¥å…·è°ƒç”¨å’Œå¤šè½®æ¨ç†ã€‚

### 2. ä¸‰é˜¶æ®µå¤š Agent åä½œ

```
ğŸ“Š ç»“æ„æ‰«æ â†’ ğŸ§  è¯­ä¹‰åˆ†æ â†’ ğŸ“„ æ–‡æ¡£ç”Ÿæˆ
```

**é˜¶æ®µ 1: Structure Scanner Agent**
- æ‰«æé¡¹ç›®ç»“æ„ï¼Œè¯†åˆ«æ¨¡å—å±‚æ¬¡
- åˆ†ææ–‡ä»¶ä¾èµ–å…³ç³»
- æ™ºèƒ½åˆ¤æ–­æ¨¡å—åˆ†å±‚ï¼ˆcore/business/utilsï¼‰

**é˜¶æ®µ 2: Semantic Analyzer Agent**
- æ¦‚è§ˆåˆ†æï¼šç†è§£æ¨¡å—çš„ä¸šåŠ¡ä»·å€¼
- ç»†èŠ‚åˆ†æï¼šæ·±å…¥æŒ–æ˜å‡½æ•°/ç±»çš„ä¸šåŠ¡é€»è¾‘ï¼ˆæ™ºèƒ½åˆ†æ‰¹å¤„ç†ï¼‰
- æå–è·¨æ–‡ä»¶çš„ä¸šåŠ¡å…³ç³»

**é˜¶æ®µ 3: Doc Generator Agent**
- äº§å“åŠŸèƒ½åŸŸæ™ºèƒ½åˆ†ç»„
- ç”Ÿæˆä¸šåŠ¡å¯¼å‘çš„ PRD æ–‡æ¡£
- è´¨é‡éªŒè¯ï¼ˆé˜²æ­¢æŠ€æœ¯æœ¯è¯­æ³„æ¼ï¼‰

### 3. MCP å·¥å…·æ ‡å‡†åŒ–

é€šè¿‡ **MCP (Model Context Protocol)** å°è£… 6 ä¸ªæ ¸å¿ƒå·¥å…·ï¼š

```python
@tool
def scan_repository_structure(repo_path: str) -> dict:
    """æ‰«æä»“åº“ç›®å½•ç»“æ„ï¼Œè¯†åˆ«æ–‡ä»¶ç±»å‹å’Œæ¨¡å—ç»„ç»‡"""

@tool
def extract_imports_and_exports(file_path: str, language: str) -> dict:
    """æå–æ–‡ä»¶çš„å¯¼å…¥å¯¼å‡ºå…³ç³»ï¼ˆåŸºäº Tree-sitterï¼‰"""

@tool
def analyze_code_block(code: str, language: str) -> dict:
    """æ·±åº¦åˆ†æä»£ç å—çš„ AST ç»“æ„å’Œè¯­ä¹‰"""

@tool
def build_dependency_graph(files_data: list) -> dict:
    """æ„å»ºæ¨¡å—ä¾èµ–å›¾"""

@tool
def search_code_patterns(repo_path: str, pattern: str) -> list:
    """æœç´¢ç‰¹å®šä»£ç æ¨¡å¼ï¼ˆå¦‚é…ç½®ã€å¸¸é‡å®šä¹‰ï¼‰"""

@tool
def validate_analysis_result(analysis: dict) -> dict:
    """éªŒè¯åˆ†æç»“æœçš„å®Œæ•´æ€§å’Œå‡†ç¡®æ€§"""
```

### 4. æ ¸å¿ƒæŠ€æœ¯äº®ç‚¹

- **ğŸŒ è¯­è¨€æ— å…³**ï¼šåŸºäº Tree-sitter çš„ç»Ÿä¸€ AST è§£æï¼ˆ165+ è¯­è¨€ï¼‰
- **ğŸ¯ ä¸šåŠ¡è§†è§’**ï¼šAI è‡ªåŠ¨æç‚¼æŠ€æœ¯ä»£ç èƒŒåçš„ä¸šåŠ¡ä»·å€¼
- **ğŸ“¦ æ‰¹å¤„ç†ç­–ç•¥**ï¼šæ™ºèƒ½åˆ†æ‰¹ + token ä¼°ç®—ï¼Œå¤„ç†å¤§å‹é¡¹ç›®
- **ğŸ”— ç²¾ç¡®æ˜ å°„**ï¼šæ¯ä¸ªåŠŸèƒ½ç‚¹éƒ½å…³è”åˆ°å…·ä½“æºç æ–‡ä»¶
- **âœ… è´¨é‡ä¿è¯**ï¼šå¤šé‡éªŒè¯æœºåˆ¶ï¼Œé˜²æ­¢ AI å¹»è§‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.11+
- Anthropic API Keyï¼ˆClaude Sonnet 4.5ï¼‰

### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/your-username/claude-deep-wiki.git
cd claude-deep-wiki

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3.11 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 4. é…ç½® API Key
# æ–¹å¼1: ç¯å¢ƒå˜é‡
export ANTHROPIC_API_KEY="your-api-key"

# æ–¹å¼2: ä¿®æ”¹ src/config.py
# ANTHROPIC_AUTH_TOKEN = "your-api-key"
```

> **æ³¨æ„**ï¼š`claude-agent-sdk` ç›®å‰æœªå‘å¸ƒåˆ° PyPIï¼Œå¦‚é‡åˆ°å®‰è£…é—®é¢˜ï¼Œè¯·å‚è€ƒ [Claude Agent SDK æ–‡æ¡£](https://docs.anthropic.com/en/docs/claude-agent-sdk)

### è¿è¡Œåˆ†æ

```bash
# åˆ†ææŒ‡å®šä»£ç ä»“åº“
python src/main.py /path/to/your/repo
```

### æŸ¥çœ‹ç»“æœ

åˆ†æå®Œæˆåï¼Œåœ¨ `output/` ç›®å½•æŸ¥çœ‹ç»“æœï¼š

```
output/
â”œâ”€â”€ prd/                          # äº§å“éœ€æ±‚æ–‡æ¡£
â”‚   â”œâ”€â”€ Index.md                  # åŠŸèƒ½åŸŸå¯¼èˆªç´¢å¼•
â”‚   â”œâ”€â”€ ç”¨æˆ·è®¤è¯ä¸æˆæƒ.md         # å„åŠŸèƒ½åŸŸçš„è¯¦ç»†PRD
â”‚   â”œâ”€â”€ è®¢å•ç®¡ç†.md
â”‚   â””â”€â”€ ...
â””â”€â”€ debug/                        # è°ƒè¯•æ•°æ®ï¼ˆJSONæ ¼å¼ï¼‰
    â”œâ”€â”€ 01_structure_scan_final_*.json
    â”œâ”€â”€ 02_semantic_analysis_final_*.json
    â””â”€â”€ ...
```

**PRD æ–‡æ¡£ç»“æ„**ï¼š
```markdown
# [åŠŸèƒ½åŸŸåç§°]

## 1. åŠŸèƒ½åŸŸæ¦‚è¿°
- ä¸šåŠ¡ä»·å€¼
- æ ¸å¿ƒèƒ½åŠ›
- æŠ€æœ¯æ¶æ„æ¦‚è§ˆ

## 2. åŠŸèƒ½è¯¦ç»†è¯´æ˜
- å„å­åŠŸèƒ½çš„ä¸šåŠ¡æè¿°
- ç”¨æˆ·åœºæ™¯
- ä¸šåŠ¡æµç¨‹

## 3. è·¨åŠŸèƒ½äº¤äº’
- ä¸å…¶ä»–åŠŸèƒ½åŸŸçš„åä½œå…³ç³»

## 4. ä¸šåŠ¡çº¦æŸä¸é™åˆ¶
- ä¸šåŠ¡è§„åˆ™
- è¾¹ç•Œæ¡ä»¶
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| **Claude Agent SDK** | AI é©±åŠ¨çš„å¤š Agent åä½œæ¡†æ¶ |
| **Tree-sitter** | 165+ ç¼–ç¨‹è¯­è¨€çš„ç»Ÿä¸€ AST è§£æ |
| **MCP** | å·¥å…·è°ƒç”¨çš„æ ‡å‡†åŒ–åè®® |
| **Python 3.11+** | ä¸»è¦å¼€å‘è¯­è¨€ |

## ğŸ“ é¡¹ç›®ç»“æ„

```
claude-deep-wiki/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ agents/                   # ä¸‰ä¸ªåˆ†æ Agent
â”‚   â”‚   â”œâ”€â”€ structure_scanner_agent.py
â”‚   â”‚   â”œâ”€â”€ semantic_analyzer_agent.py
â”‚   â”‚   â””â”€â”€ doc_generator_agent.py
â”‚   â”œâ”€â”€ mcp_servers/              # MCP å·¥å…·æœåŠ¡å™¨
â”‚   â”‚   â””â”€â”€ code_analysis_server.py
â”‚   â”œâ”€â”€ mcp_tools/                # åº•å±‚åˆ†æå·¥å…·
â”‚   â”‚   â”œâ”€â”€ polyglot_parser.py   # Tree-sitter è§£æå™¨
â”‚   â”‚   â”œâ”€â”€ dependency_analyzer.py
â”‚   â”‚   â”œâ”€â”€ language_detector.py
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ utils/                    # è¾…åŠ©å·¥å…·
â”‚   â”‚   â”œâ”€â”€ batch_analyzer.py    # æ‰¹å¤„ç†ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ json_extractor.py    # JSON æå–
â”‚   â”‚   â””â”€â”€ *_prompt_builder.py  # æç¤ºè¯æ„å»º
â”‚   â”œâ”€â”€ config.py                 # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ main.py                   # ä¸»å…¥å£
â”œâ”€â”€ output/                       # è¾“å‡ºç›®å½•
â”œâ”€â”€ requirements.txt              # Python ä¾èµ–
â””â”€â”€ README.md                     # é¡¹ç›®æ–‡æ¡£
```

## ğŸ“ æ ¸å¿ƒè®¾è®¡æ€æƒ³

### é˜²æ­¢ AI å¹»è§‰

1. **åˆ†é˜¶æ®µå¤„ç†**ï¼šæ¯ä¸ªé˜¶æ®µç‹¬ç«‹éªŒè¯ï¼Œé¿å…é”™è¯¯ç´¯ç§¯
2. **å·¥å…·é©±åŠ¨**ï¼šAI é€šè¿‡å·¥å…·è·å–çœŸå®æ•°æ®ï¼Œè€Œéå‡­ç©ºæƒ³è±¡
3. **è´¨é‡æ£€æŸ¥**ï¼šè‡ªåŠ¨éªŒè¯è¾“å‡ºä¸­æ˜¯å¦åŒ…å«ä¸åˆè§„å†…å®¹ï¼ˆå¦‚æŠ€æœ¯æœ¯è¯­ï¼‰

### Session ç®¡ç†ç­–ç•¥

- **StructureScannerAgent**ï¼šæ¯ä¸ªå­é˜¶æ®µç‹¬ç«‹ sessionï¼ˆæ˜¾å¼ä¼ é€’æ•°æ®ï¼‰
- **SemanticAnalyzerAgent**ï¼šåŒä¸€æ¨¡å—å…±äº« sessionï¼ˆä¿æŒä¸Šä¸‹æ–‡ç†è§£ï¼‰
- **DocGeneratorAgent**ï¼šæŒ‰åŠŸèƒ½åŸŸç‹¬ç«‹ sessionï¼ˆé¿å…æ··æ·†ï¼‰

### æ‰¹å¤„ç†ä¼˜åŒ–

- Token ä¼°ç®—ï¼šæ ¹æ®æ–‡ä»¶å†…å®¹é¢„ä¼° token æ¶ˆè€—
- å†…èšæ€§åˆ†ç»„ï¼šå°†ç›¸å…³æ–‡ä»¶åˆ†åˆ°åŒä¸€æ‰¹æ¬¡
- åŠ¨æ€è°ƒæ•´ï¼šæ ¹æ®å®é™…å“åº”è°ƒæ•´æ‰¹æ¬¡å¤§å°

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ License

[MIT License](LICENSE)

## ğŸ™ è‡´è°¢

- [Anthropic](https://www.anthropic.com/) - Claude Agent SDK
- [Tree-sitter](https://tree-sitter.github.io/) - å¼ºå¤§çš„å¤šè¯­è¨€è§£æå™¨
- ç¤¾åŒºè´¡çŒ®è€…

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼**

